<!DOCTYPE html>
<html>
    <head>
        <title>Secret Hitler</title>
        <link rel="icon" href="/img/favicon.png">
        <link rel="stylesheet" href="/css/styles.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"> 

        <style>
            .layered-image {
                position: relative;
            }
            /*this is really bad, but works for testing (not robust for later resizing of graphics)*/
            .image-overlay {
                position: absolute;
                top: -107.5px;
                left: -0px;
                opacity: .4;
            }

            .header.Fascist {
               color: red;
            }

            .header.Liberal {
                color: blue;
            }

            .header.Hitler {
                color: brown;
            }

            .glowing {
                animation: glowing 1s ease-in-out infinite alternate;
            }

            .fadein {
                animation: fadein 2s;
            }

            @-webkit-keyframes fadein {
                from {opacity: 0;}
                to {opacity: 1;}
            }

            @-webkit-keyframes glowing {
                from {
                    box-shadow: 0px 0px 0px 0px #000;
                } to {
                    box-shadow: 0px 0px 5px 5px #000;
                }
            }
        </style>

        <script
            src="https://code.jquery.com/jquery-3.1.1.min.js"
            integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
            crossorigin="anonymous"></script>
        <script src="../semantic/dist/semantic.min.js"></script>
    </head>
    <body>
        <div class="menu-container" style="z-index: 9999;"> <!--always appears on top-->
            <section class="ui menu nav-menu">
                <div id="heading"></div>
                    <div class="item">
                        <span>
                            <div id="actions"></div>
                        </span>
                    </div>
                <div class="item right menu">
                    <a href="/" class="ui primary button">Lobby Select</a>
                </div>
            </section>
        </div>

        <script id="heading-template" type="text/html">
            <a class="item">
                <h1 class="ui header">Secret Hitler Lobby {{ room }}</h1>
            </a>
        </script>

        <script id="action-button-template" type="text/html">
            <button class="ui primary button" id={{ id }}>{{ text }}</button>
        </script>

        <br>

        <!--currently using secrethitler.io backs, mostly just for spacing reference, must change later-->
        <img class="ui image" src="img/lib_back.png">
        <!--TODO: dynamic fascist board depending on player number-->
        <img class="ui image" src="img/fascist_back_78.png">

        <div class="ui ten column grid">
            <div class="row" id="participant-list"></div>
        </div>

        <script id="participant-template" type="text/html">
            <div class="column participant">
                <div class="ui centered tiny header {{ type }}" style="white-space: nowrap; overflow: hidden;
                    position: relative; bottom: -10px;">
                    {{ username }} - {{ status }}
                </div>
                <div class="layered-image">
                    <img class="ui centered tiny image" id={{ username_img }} src="img/default cardback.png">
                    <div id={{ image_select_id }}></div>
                </div>
            </div>
        </script>

        <script id="image-select-template" type="text/html">
            <img class="ui centered tiny image image-overlay glowing" id={{ image_id }} src= "img/{{ src }}">
        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.0.1/mustache.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.6.0/qs.min.js"></script>

        <script src="/socket.io/socket.io.js"></script>
        <script src="/js/lobby.js"></script>
    </body>
</html>
